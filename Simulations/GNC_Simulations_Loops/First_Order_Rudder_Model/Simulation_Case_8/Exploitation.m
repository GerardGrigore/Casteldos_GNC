clc;

% This script serves as a preliminary exploitation script.
Velocity_Norm_Fused_Filtered = out.Velocity_Norm_Fused_Filtered.Data;
Velocity_GPS = out.Velocity_Norm_GPS.Data;
Velocity_INS = out.Velocity_Norm_INS.Data;
Time_Plots = out.Velocity_Norm_GPS.Time;
Heading_Fused = out.Heading_Fused.Data;
Heading_GPS = out.Heading_GPS.Data;
Heading_GPS = reshape(Heading_GPS, size(Heading_GPS,3), 1);
Heading_INS = out.Heading_INS.Data;
Heading_INS = reshape(Heading_INS, size(Heading_INS,3), 1);
Heading_Compass = out.Heading_Compass.Data;
Time_Heading = out.Heading_Fused.Time;

% Plots:
% Velocity:
figure;
Velocity_Fused = plot(Time_Plots,Velocity_Norm_Fused_Filtered,'b');
Velocity_Fused.LineWidth = 2;
hold on;
plot(Time_Plots,Velocity_GPS,'r');
hold on;
plot(Time_Plots,Velocity_INS,'magenta');
xlabel('Time Simulation (s)');
ylabel('Velocities (m/s)');
title('Comparison of the measured velocity norm and the fused and filtered one');
legend('Velocity Fused and Filterd','Velocity from GPS','Velocity from INS');

% Heading:
figure;
Heading_Fused_Filtered = plot(Time_Heading,Heading_Fused,'b');
Heading_Fused_Filtered.LineWidth = 2;
hold on;
plot(Time_Plots,Heading_GPS,'r');
hold on;
plot(Time_Plots,Heading_INS,'magenta');
hold on;
plot(Time_Plots,Heading_Compass,'cyan');
xlabel('Time Simulation (s)');
ylabel('Headings (rad)');
title('Comparison of the measured headings and the fused and filtered one');
legend('Heading Fused and Filterd','Heading from GPS','Heading from INS',...
       'Heading from Compass');























